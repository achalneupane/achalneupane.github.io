<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.4.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Achal Neupane">

  
  
  
    
  
  <meta name="description" content="Statistics series">

  
  <link rel="alternate" hreflang="en-us" href="/achalneupane.github.io/post/data_manipulation/">

  


  

  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono&display=swap">
  

  
  
  
  <link rel="stylesheet" href="/achalneupane.github.io/css/academic.min.c66516cf97186fe7fa872ca1f0e4401a.css">

  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-145752794-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  

  <link rel="manifest" href="/achalneupane.github.io/index.webmanifest">
  <link rel="icon" type="image/png" href="/achalneupane.github.io/img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="/achalneupane.github.io/img/icon-192.png">

  <link rel="canonical" href="/achalneupane.github.io/post/data_manipulation/">

  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@achalneupane">
  <meta property="twitter:creator" content="@achalneupane">
  
  <meta property="og:site_name" content="Achal Neupane">
  <meta property="og:url" content="/achalneupane.github.io/post/data_manipulation/">
  <meta property="og:title" content="Data manipulation | Achal Neupane">
  <meta property="og:description" content="Statistics series"><meta property="og:image" content="/achalneupane.github.io/img/icon-192.png">
  <meta property="twitter:image" content="/achalneupane.github.io/img/icon-192.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2019-06-12T17:26:23-05:00">
    
    <meta property="article:modified_time" content="2019-06-12T17:26:23-05:00">
  

  


  





  <title>Data manipulation | Achal Neupane</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/achalneupane.github.io/">Achal Neupane</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/achalneupane.github.io/#featured"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/achalneupane.github.io/#impact"><span>Impact</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/achalneupane.github.io/#posts"><span>Posts</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/achalneupane.github.io/#contact"><span>Contact</span></a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  <article class="article" itemscope itemtype="http://schema.org/Article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">Data manipulation</h1>

  

  
    



<meta content="2019-06-12 17:26:23 -0500 CDT" itemprop="datePublished">
<meta content="2019-06-12 17:26:23 -0500 CDT" itemprop="dateModified">

<div class="article-metadata">

  
  
  
  
  <div>
    



  <span itemprop="author name" itemtype="http://schema.org/Person"><a href="/achalneupane.github.io/authors/achal-neupane/"><strong>Achal Neupane</strong></a></span>

  </div>
  
  

  
  <span class="article-date">
    
    
      
    
    <time>Jun 12, 2019</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    21 min read
  </span>
  

  
  
  

  
  

  
    
<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=/achalneupane.github.io/post/data_manipulation/&amp;text=Data%20manipulation" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/achalneupane.github.io/post/data_manipulation/&amp;t=Data%20manipulation" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook-f"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Data%20manipulation&amp;body=/achalneupane.github.io/post/data_manipulation/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=/achalneupane.github.io/post/data_manipulation/&amp;title=Data%20manipulation" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=Data%20manipulation%20/achalneupane.github.io/post/data_manipulation/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=/achalneupane.github.io/post/data_manipulation/&amp;title=Data%20manipulation" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>


  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      


<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<p>There are six exercises below. You are required to provide solutions for at least four of the five. You are required to solve at least one exercise in R, and at least one in SAS. You are required to provide five solutions, each solution will be worth 10 points. Thus, you may choose to provide both R and SAS solutions for a single exercise, or you may solve five of the sixth problems, mixing the languages as you wish.</p>
<p>If you choose SAS for an exercise, you may use <code>IML</code>, <code>DATA</code> operations or <code>PROC SQL</code> at your discretion.</p>
<p><em>Warning</em> I will continue restricting the use of external libraries in R, particularly <code>tidyverse</code> libraries. You may choose to use <code>ggplot2</code>, but take care that the plots you produce are at least as readable as the equivalent plots in base R. You will be allowed to use whatever libraries tickle your fancy in the midterm and final projects.</p>
<div id="reuse" class="section level2">
<h2>Reuse</h2>
<p>For many of these exercises, you may be able to reuse functions written in prior homework. Define those functions here.</p>
</div>
<div id="exercise-1." class="section level1">
<h1>Exercise 1.</h1>
<div id="part-a." class="section level3">
<h3>Part a.</h3>
<p>Repeat the table from Homework 5, Exercise 2. The table will contain 30 rows, each corresponding to a unique combination of CV from <span class="math inline">\(8, 12, ..., 28\)</span> and Diff from <span class="math inline">\(5,10, ... , 25\)</span>. However, for this exercise you only need to calculate one column for required replicates (<span class="math inline">\(\alpha=0.05\)</span> and <span class="math inline">\(\beta=0.2\)</span>)</p>
<p>Define the table in the space below. <em>Do not print this table</em>.</p>
<pre class="r"><code>newdata.dat &lt;- data.frame(CV = rep(seq(8,28,4), each = 5), Diff = rep(seq(5,25,5),6))
newdata.dat</code></pre>
<pre><code>##    CV Diff
## 1   8    5
## 2   8   10
## 3   8   15
## 4   8   20
## 5   8   25
## 6  12    5
## 7  12   10
## 8  12   15
## 9  12   20
## 10 12   25
## 11 16    5
## 12 16   10
## 13 16   15
## 14 16   20
## 15 16   25
## 16 20    5
## 17 20   10
## 18 20   15
## 19 20   20
## 20 20   25
## 21 24    5
## 22 24   10
## 23 24   15
## 24 24   20
## 25 24   25
## 26 28    5
## 27 28   10
## 28 28   15
## 29 28   20
## 30 28   25</code></pre>
<pre class="r"><code>combined &lt;- function (cv, percent.diff, alpha = 0.05, beta = 0.2){
  cv &lt;- cv
  percent.diff &lt;- percent.diff
  n &lt;- 2*(((cv/percent.diff)^2)*(qnorm((1-alpha/2)) + qnorm((1-beta)))^2) 
  n &lt;- round(n,0)
  value &lt;- list(CV = cv, PercentDiff= percent.diff, RequiredReplicates = round(n,0))
  return(value)
}
value &lt;- combined(cv = newdata.dat$CV, percent.diff = newdata.dat$Diff)

# Adding RequiredReplicates column
newdata.dat$RequiredReplicates &lt;- value$RequiredReplicates
# Print the table
# newdata.dat</code></pre>
</div>
<div id="part-b." class="section level3">
<h3>Part b.</h3>
<p>Create two subset tables, one that contains the combinations of CV and Diff that require the five largest number of replicates and one the contains the combinations of CV and Diff the five smallest number of replicates. You can determine the subset by ranking or sorting by required replicates. You can add a rank column to your table if you wish. Call one table <code>LargestFive</code> and one table <code>SmallestFive</code>.</p>
<pre class="r"><code># Sort the table by decreasing Replicate values
ordered.new.dat &lt;- newdata.dat[order(newdata.dat$RequiredReplicates,decreasing = TRUE),]

# Creating the required subset tables
LargestFive &lt;- head(ordered.new.dat, 5)


# Now for smallest
SmallestFive &lt;- tail(ordered.new.dat, 5)</code></pre>
</div>
<div id="part-c." class="section level3">
<h3>Part c.</h3>
<p>Print <code>LargestFive</code> sorted by required replicates in descending order, and print <code>SmallestFive</code> in ascending order.</p>
<pre class="r"><code># adding rank for LargestFive table. Largest value gets rank 1
LargestFive$Rank &lt;- rank(order(LargestFive$RequiredReplicates, decreasing = TRUE))
# printing larget five in descending order, Largest value gets the first rank
LargestFive</code></pre>
<pre><code>##    CV Diff RequiredReplicates Rank
## 26 28    5                492    1
## 21 24    5                362    2
## 16 20    5                251    3
## 11 16    5                161    4
## 27 28   10                123    5</code></pre>
<pre class="r"><code># adding rank for SmallestFive table. Smallest value gets rank 1
SmallestFive &lt;- SmallestFive[order(SmallestFive$RequiredReplicates, decreasing = FALSE),]
SmallestFive$Rank &lt;- rank((SmallestFive$RequiredReplicates),ties.method=&quot;min&quot;)
# printing smallest five in ascending order, smallest value gets the first rank
SmallestFive</code></pre>
<pre><code>##    CV Diff RequiredReplicates Rank
## 5   8   25                  2    1
## 4   8   20                  3    2
## 3   8   15                  4    3
## 10 12   25                  4    3
## 15 16   25                  6    5</code></pre>
</div>
</div>
<div id="exercise-2" class="section level1">
<h1>Exercise 2</h1>
<div id="part-a" class="section level3">
<h3>Part a</h3>
<p>Go to <a href="http://www.itl.nist.gov/div898/strd/anova/SiRstv.html" class="uri">http://www.itl.nist.gov/div898/strd/anova/SiRstv.html</a> and use the data listed under <code>Data File in Table Format</code> (<a href="https://www.itl.nist.gov/div898/strd/anova/SiRstvt.dat" class="uri">https://www.itl.nist.gov/div898/strd/anova/SiRstvt.dat</a>). You may reuse the file from Homework 6. Load the data into a table below.</p>
<pre class="r"><code>SiRstvt.dat &lt;- read.table(&quot;https://raw.githubusercontent.com/achalneupane/data/master/SiRstvt.dat&quot;,
                          header = FALSE, skip = 59)
SiRstvt.dat</code></pre>
<pre><code>##         V1       V2       V3       V4       V5
## 1 196.3052 196.3042 196.1303 196.2795 196.2119
## 2 196.1240 196.3825 196.2005 196.1748 196.1051
## 3 196.1890 196.1669 196.2889 196.1494 196.1850
## 4 196.2569 196.3257 196.0343 196.1485 196.0052
## 5 196.3403 196.0422 196.1811 195.9885 196.2090</code></pre>
</div>
<div id="part-b" class="section level3">
<h3>Part b</h3>
<p>Reshape or transpose this table from the wide format to the long format. Make sure the resulting table has two columns - <code>Resistance</code> and <code>Instrument</code>.</p>
<pre class="r"><code>long.SiRstvt.dat &lt;- with(reshape(SiRstvt.dat, idvar = &quot;id&quot;, varying = list(1:5),
             v.names = &quot;Resistance&quot;, timevar = &quot;Instrument&quot;, direction = &quot;long&quot;), 
             data.frame(Instrument, Resistance))

# the desired table in two column format:
long.SiRstvt.dat</code></pre>
<pre><code>##    Instrument Resistance
## 1           1   196.3052
## 2           1   196.1240
## 3           1   196.1890
## 4           1   196.2569
## 5           1   196.3403
## 6           2   196.3042
## 7           2   196.3825
## 8           2   196.1669
## 9           2   196.3257
## 10          2   196.0422
## 11          3   196.1303
## 12          3   196.2005
## 13          3   196.2889
## 14          3   196.0343
## 15          3   196.1811
## 16          4   196.2795
## 17          4   196.1748
## 18          4   196.1494
## 19          4   196.1485
## 20          4   195.9885
## 21          5   196.2119
## 22          5   196.1051
## 23          5   196.1850
## 24          5   196.0052
## 25          5   196.2090</code></pre>
</div>
<div id="part-c" class="section level3">
<h3>Part c</h3>
<p>To confirm that the table was reshaped correctly, use <code>aggregate</code> or <code>tapply</code> to calculate mean <code>Resistance</code> grouped by <code>Instrument</code> from the long table, and use <code>apply</code> or <code>colMeans</code> to calculate column means from the wide table. Print and compare the results.</p>
<pre class="r"><code># Resistance mean grouped by Instrument from long format
tapply(long.SiRstvt.dat$Resistance, long.SiRstvt.dat$Instrument, mean)</code></pre>
<pre><code>##        1        2        3        4        5 
## 196.2431 196.2443 196.1670 196.1481 196.1432</code></pre>
<pre class="r"><code># aggregate(long.SiRstvt.dat$Resistance, by = list(long.SiRstvt.dat$Instrument), mean)

# Resistance mean from wide format
colMeans(SiRstvt.dat)</code></pre>
<pre><code>##       V1       V2       V3       V4       V5 
## 196.2431 196.2443 196.1670 196.1481 196.1432</code></pre>
<p>Note that the reshaped table should be equivalent to the file linked under ‘Data File in Two-Column Format’.</p>
<p>Yes, the reshaped table is equivalent to the linked data file in Two-column format</p>
</div>
</div>
<div id="exercise-3" class="section level1">
<h1>Exercise 3</h1>
<p>Create an ordered treatment pairs table from the <code>pumpkin.csv</code>. In the submitted work print the table only once at the end of the exercise.</p>
<div id="part-a.-1" class="section level3">
<h3>Part a.</h3>
<p>Read the pumpkin data and compute mean <span class="math inline">\(m_i\)</span>, standard deviation <span class="math inline">\(s_i\)</span> and count <span class="math inline">\(n_i\)</span> for each level <span class="math inline">\(i\)</span> of <code>Class</code>.</p>
<pre class="r"><code>pumpkins.dat =read.table(&quot;https://raw.githubusercontent.com/achalneupane/data/master/pumpkins.csv&quot;,
                         header = T, sep = &quot;,&quot;)
# pumpkin.table &lt;- aggregate(pumpkins.dat$Price, by = list(pumpkins.dat$Class),
# FUN = function(x) c(Mean = mean(x), SD = sd(x), Count.n = length(x)))

pumpkin.mean &lt;- setNames(aggregate(pumpkins.dat$Price, 
       by = list(pumpkins.dat$Class), FUN =  mean), c(&quot;Class&quot;, &quot;Mean&quot;))
pumpkin.sd &lt;- setNames(aggregate(pumpkins.dat$Price, 
       by = list(pumpkins.dat$Class), FUN =  sd), c(&quot;Class&quot;, &quot;SD&quot;))
pumpkin.count &lt;- setNames(aggregate(pumpkins.dat$Price, 
       by = list(pumpkins.dat$Class), FUN =  length), c(&quot;Class&quot;, &quot;Counts&quot;))


merged.class &lt;- Reduce(function(x, y) merge(x, y, all=TRUE), 
                 list(pumpkin.mean, pumpkin.sd, pumpkin.count))

# This table includes mean, sd and counts for all Class
merged.class</code></pre>
<pre><code>##        Class     Mean        SD Counts
## 1       Blue 175.0000  0.000000      6
## 2 Cinderella 218.4286 17.924445      7
## 3     Howden 127.9000  3.695342     10
## 4        Pie 212.0000 18.565200      7</code></pre>
</div>
<div id="part-b-1" class="section level3">
<h3>Part b</h3>
<p>Create a table over all possible pairs <span class="math inline">\(i,j\)</span> of <span class="math inline">\(k\)</span> Classes from these data. Let one table column be <span class="math inline">\(i\)</span> and another column be <span class="math inline">\(j\)</span>. Let <span class="math inline">\(i = 1, 2, \dots (k-1)\)</span> and <span class="math inline">\(j = i+1, i+2, \dots k\)</span>. There will be <span class="math inline">\((k \times (k-1))/2\)</span> rows in this table. I usually create an empty table, then fill the table using a pair of nested loops, the outer loop over <span class="math inline">\(i\)</span> and the inner loop over <span class="math inline">\(j\)</span>. Use a counter variable to keep track of the current row and increment the counter in each step of the inner loop.</p>
<pre class="r"><code># There are 4 classes, 4 choose 2:
class.level &lt;- levels(pumpkins.dat$Class)
comb.matrix &lt;- as.data.frame(t(combn(4,2)))
# This is how the combination matrix would look like
comb.matrix</code></pre>
<pre><code>##   V1 V2
## 1  1  2
## 2  1  3
## 3  1  4
## 4  2  3
## 5  2  4
## 6  3  4</code></pre>
<pre class="r"><code># Creating an empty matrix so we could fill in with the required values
collect &lt;- data.frame(col1 = numeric(6), col2 = numeric(6))
for (i in 1:length(comb.matrix$V1)){
collect$col1[i] &lt;-   class.level[comb.matrix$V1[i]]
collect$col2[i] &lt;-   class.level[comb.matrix$V2[i]]
}
# The possible pairs table
collect</code></pre>
<pre><code>##         col1       col2
## 1       Blue Cinderella
## 2       Blue     Howden
## 3       Blue        Pie
## 4 Cinderella     Howden
## 5 Cinderella        Pie
## 6     Howden        Pie</code></pre>
<pre class="r"><code># Now we merge the possible pairs (collect) table with the merged.class table with mean,
# sd and counts values we created above
collect &lt;- merge(collect, merged.class, by.x = &quot;col1&quot;, by.y = &quot;Class&quot; )
collect &lt;- merge(collect, merged.class, by.x = &quot;col2&quot;, by.y = &quot;Class&quot; )
collect</code></pre>
<pre><code>##         col2       col1   Mean.x      SD.x Counts.x   Mean.y      SD.y Counts.y
## 1 Cinderella       Blue 175.0000  0.000000        6 218.4286 17.924445        7
## 2     Howden       Blue 175.0000  0.000000        6 127.9000  3.695342       10
## 3     Howden Cinderella 218.4286 17.924445        7 127.9000  3.695342       10
## 4        Pie       Blue 175.0000  0.000000        6 212.0000 18.565200        7
## 5        Pie Cinderella 218.4286 17.924445        7 212.0000 18.565200        7
## 6        Pie     Howden 127.9000  3.695342       10 212.0000 18.565200        7</code></pre>
</div>
<div id="part-c.-1" class="section level3">
<h3>Part c.</h3>
<p>Calculate Cohen’s <span class="math inline">\(d\)</span> for each Class pair in this table. Use a pooled standard deviation given by</p>
<p><span class="math display">\[
s_{pooled} = \sqrt{\frac{\sum_i (n_i-1)s_i^2}{N-k}}
\]</span></p>
<p>You may add Class means to the table if you wish. Sort the table by <span class="math inline">\(d\)</span> in descending order and print the table.</p>
<pre class="r"><code>cohen.d &lt;- function(m1,s1,m2,s2){
  cohens_d &lt;-(abs(m1-m2)/sqrt((s1^2+s2^2)/2))
return(cohens_d)
}


for(i in 1:nrow(collect)) {
  collect$cohens_d[i] &lt;-
  cohen.d(
  m1 = collect$Mean.x[i],
  s1 = collect$SD.x[i],
  m2 = collect$Mean.y[i],
  s2 = collect$SD.y[i]
  )
}

collect &lt;- collect[order(collect$cohens_d, decreasing = TRUE),]
# This  is the final table we need
collect</code></pre>
<pre><code>##         col2       col1   Mean.x      SD.x Counts.x   Mean.y      SD.y Counts.y
## 2     Howden       Blue 175.0000  0.000000        6 127.9000  3.695342       10
## 3     Howden Cinderella 218.4286 17.924445        7 127.9000  3.695342       10
## 6        Pie     Howden 127.9000  3.695342       10 212.0000 18.565200        7
## 1 Cinderella       Blue 175.0000  0.000000        6 218.4286 17.924445        7
## 4        Pie       Blue 175.0000  0.000000        6 212.0000 18.565200        7
## 5        Pie Cinderella 218.4286 17.924445        7 212.0000 18.565200        7
##     cohens_d
## 2 18.0252467
## 3  6.9954609
## 6  6.2831022
## 1  3.4264534
## 4  2.8184938
## 5  0.3522961</code></pre>
</div>
</div>
<div id="exercise-4." class="section level1">
<h1>Exercise 4.</h1>
<div id="part-a.-2" class="section level3">
<h3>Part a.</h3>
<p>Download the two files from D2L <code>ncaa2018.csv</code> and <code>ncaa2019.csv</code>, and read into data frames or tables. <code>ncaa2018.csv</code> comes from the same source as <code>elo.csv</code> from Homework 5, while <code>ncaa2019.csv</code> is the corresponding more recent data. These tables do not contain identical sets of columns, but we will be able to merge <code>Finish</code> by individual wrestlers. <em>Do not print these tables</em>.</p>
<pre class="r"><code>ncaa2018.dat =read.table(&quot;https://raw.githubusercontent.com/achalneupane/data/master/ncaa2018.csv&quot;,
                         header = T, sep = &quot;,&quot;)
head(ncaa2018.dat)</code></pre>
<pre><code>##   Weight     Last  First Conference  Finish     ELO
## 1    125   Atkins Thayer        ACC      NQ 1297.06
## 2    125  Bentley     LJ        ACC      NQ 1343.66
## 3    125    Fausz   Sean        ACC cons 24 1380.84
## 4    125    Hayes  Louie        ACC cons 12 1404.51
## 5    125 Norstrem   Kyle        ACC cons 24 1348.79
## 6    125  Bianchi   Paul     Big 12 cons 32 1312.73</code></pre>
<pre class="r"><code>ncaa2019.dat =read.table(&quot;https://raw.githubusercontent.com/achalneupane/data/master/ncaa2019.csv&quot;,
                         header = T, sep = &quot;,&quot;)
head(ncaa2019.dat)</code></pre>
<pre><code>##   Weight       Last     First Finish
## 1    125        Lee   Spencer      1
## 2    125    Mueller      Jack      2
## 3    125     Rivera Sebastian      3
## 4    125     Arujau    Vitali      4
## 5    125 Piccininni  Nicholas      5
## 6    125      Glory       Pat      6</code></pre>
<pre class="r"><code>merged.ncaa &lt;- merge(ncaa2018.dat, ncaa2019.dat, by = c(&quot;Last&quot;, &quot;First&quot;), all = FALSE)</code></pre>
</div>
<div id="part-b.-1" class="section level3">
<h3>Part b.</h3>
<p>The tables list the wrestlers qualifying for the NCAA 2018 and 2019 National Champions, respectively. Merge the tables into a single table that contains only those wrestlers who qualified for both tournaments. Use the columns <code>Last</code> and <code>First</code> to merge on; neither is unique for all wrestlers.</p>
<p>The merged table should have columns corresponding to <code>Finish</code> 2018 and <code>Finish</code> 2019 - you can leave the column names as the defaults produced by R or SAS. To check the merge, print the number of rows in the table, and determine if there are any missing values in either <code>Finish</code> column (<code>sum</code> or <code>any</code> are sufficient. <em>Do not print the table</em>.</p>
<pre class="r"><code>merged.common.players &lt;- merge(ncaa2018.dat, ncaa2019.dat, by=c(&quot;Last&quot;,&quot;First&quot;), all = FALSE) 
# numer of rows
print(nrow(merged.common.players))</code></pre>
<pre><code>## [1] 198</code></pre>
<pre class="r"><code>sum(is.na(merged.common.players$Finish.x))</code></pre>
<pre><code>## [1] 0</code></pre>
</div>
<div id="part-c.-2" class="section level3">
<h3>Part c.</h3>
<p>Print a contingency table comparing <code>Weight</code> for 2018 and <code>Weight</code> for 2019. The sum of all cells in this table will be equal to the total number of wrestlers that competed in both tournaments; the sum of the main diagonal will be the number of wrestlers that competed in the same weight class for both. How many wrestlers changed weight classes?</p>
<pre class="r"><code>weight_contingency &lt;-
  table(
  merged.common.players$Weight.x,
  merged.common.players$Weight.y,
  dnn = c(&quot;Weight for 2018&quot;, &quot;Weight for 2019&quot;)
  )

weight_contingency</code></pre>
<pre><code>##                Weight for 2019
## Weight for 2018 125 133 141 149 157 165 174 184 197 285
##             125  20   2   0   0   0   0   0   0   0   0
##             133   2  17   6   0   0   0   0   0   0   0
##             141   0   2  14   5   0   0   0   0   0   0
##             149   0   0   2  12   4   0   0   0   0   0
##             157   0   0   0   3  12   2   0   0   0   0
##             165   0   0   0   0   1  17   3   0   0   0
##             174   0   0   0   0   0   1  18   1   0   0
##             184   0   0   0   0   0   0   0  14   4   0
##             197   0   0   0   0   0   0   0   4  15   0
##             285   0   0   0   0   0   0   0   0   0  17</code></pre>
<pre class="r"><code># The sum of all cells in this table will be equal to the total number of
# wrestlers that competed in both tournaments
sum(weight_contingency)</code></pre>
<pre><code>## [1] 198</code></pre>
<pre class="r"><code># Diagonal sum
sum(diag(weight_contingency))</code></pre>
<pre><code>## [1] 156</code></pre>
<pre class="r"><code># How many wrestlers changed weight classes? This gives:
sum(weight_contingency)-sum(diag(weight_contingency))</code></pre>
<pre><code>## [1] 42</code></pre>
<p>The sum of all cells in this table will be equal to the total number of wrestlers that competed in both tournaments: which is 198</p>
</div>
</div>
<div id="exercise-5" class="section level1">
<h1>Exercise 5</h1>
<div id="background" class="section level3">
<h3>Background</h3>
<p>I’m working on software that produces a repeated measures analysis. To test my code, I use published data and compare results. For one analysis, I used data from <strong>Contemporary Statistical Models for the Plant and Soil Sciences</strong>, Oliver Schabenberger and Francis J. Pierce, 2001. These data are measurements of the diameter of individual apples from selected apple trees.</p>
</div>
<div id="part-a.-3" class="section level2">
<h2>Part a.</h2>
<p>Download the <code>AppleData.csv</code> if you choose R, the SAS data is included in the SAS template. Note the file include comments for the data; you may need to specify comment character in import. <em>Do not print this table</em>.</p>
<p>To simplify this exercise, create a subset of the <code>AppleData</code> including only trees number 3, 7 and 10.</p>
<pre class="r"><code>AppleData=read.csv(&quot;https://raw.githubusercontent.com/achalneupane/data/master/AppleData.csv&quot;, 
                   header = TRUE, comment.char = &#39;#&#39;)

#subsetting data to include tree 3, 7 and 10
AppleData&lt;- AppleData[AppleData$tree %in% c(3,7,10),]
AppleData</code></pre>
<pre><code>##     tree apple time diam
## 111    3     1    1 2.91
## 112    3     1    2 3.00
## 113    3     1    3 3.02
## 114    3     1    4 3.03
## 115    3    10    1 2.81
## 116    3    10    2 2.89
## 117    3    10    3 2.87
## 118    3    10    4 2.93
## 119    3    10    5 2.93
## 120    3    10    6 2.94
## 121    3    16    1 2.95
## 122    3    16    2 3.00
## 123    3    16    3 3.03
## 124    3    16    4 3.03
## 125    3    16    5 3.06
## 126    3    16    6 3.08
## 127    3    17    1 2.79
## 128    3    17    2 2.83
## 129    3    17    3 2.86
## 130    3    17    4 2.87
## 131    3    17    5 2.87
## 132    3    17    6 2.93
## 133    3    18    1 2.98
## 134    3    18    2 3.03
## 135    3    18    3 3.06
## 136    3    18    4 3.09
## 137    3    18    5 3.09
## 138    3    18    6 3.09
## 139    3    20    1 2.76
## 140    3    20    2 2.82
## 141    3    20    3 2.83
## 142    3    20    4 2.85
## 143    3    20    5 2.86
## 144    3    20    6 2.88
## 145    3    22    1 2.76
## 146    3    22    2 2.82
## 147    3    22    3 2.85
## 148    3    22    4 2.87
## 149    3    22    5 2.90
## 150    3    22    6 2.90
## 151    3    23    1 2.76
## 152    3    23    2 2.78
## 153    3    23    3 2.77
## 154    3    23    4 2.79
## 155    3    23    5 2.79
## 156    3    23    6 2.79
## 157    3    24    1 2.80
## 158    3    24    2 2.85
## 159    3    24    3 2.87
## 160    3    24    4 2.87
## 161    3    24    5 2.89
## 162    3    24    6 2.92
## 317    7     2    1 2.79
## 318    7     2    2 2.89
## 319    7     2    3 2.89
## 320    7     2    4 2.91
## 321    7     2    5 2.91
## 322    7     2    6 2.95
## 323    7     4    1 2.80
## 324    7     4    2 2.81
## 325    7     4    3 2.85
## 326    7     4    4 2.91
## 327    7     4    5 2.92
## 328    7     4    6 2.96
## 329    7     9    1 3.06
## 330    7     9    2 3.15
## 331    7     9    3 3.15
## 332    7     9    4 3.23
## 333    7     9    5 3.27
## 334    7     9    6 3.31
## 335    7    25    1 2.84
## 336    7    25    2 2.86
## 337    7    25    3 2.88
## 338    7    25    4 2.93
## 339    7    25    5 2.93
## 340    7    25    6 2.96
## 399   10     2    1 2.92
## 400   10     2    2 2.95
## 401   10     2    3 3.00
## 402   10     2    4 3.01
## 403   10     2    5 3.07
## 404   10     5    1 2.87
## 405   10     5    2 2.89
## 406   10     5    3 2.94
## 407   10     5    4 2.95
## 408   10     5    5 3.01
## 409   10     5    6 3.02
## 410   10     8    1 2.76
## 411   10     8    2 2.81
## 412   10     8    3 2.86
## 413   10     8    4 2.90
## 414   10     9    1 2.91
## 415   10     9    2 3.01
## 416   10     9    3 3.07
## 417   10     9    4 3.09
## 418   10     9    5 3.11
## 419   10    10    1 2.88
## 420   10    10    2 2.88
## 421   10    10    3 2.92
## 422   10    10    4 2.97
## 423   10    10    5 2.97
## 424   10    10    6 2.99
## 425   10    17    1 3.00
## 426   10    17    2 3.05
## 427   10    17    3 3.05
## 428   10    17    4 3.06
## 429   10    17    5 3.11
## 430   10    18    1 2.85
## 431   10    18    2 2.87
## 432   10    18    3 2.91
## 433   10    18    4 2.95
## 434   10    18    5 2.98
## 435   10    18    6 3.00
## 436   10    21    1 2.76
## 437   10    21    2 2.83
## 438   10    21    3 2.84
## 439   10    21    4 2.87
## 440   10    21    5 2.88
## 441   10    21    6 2.91
## 442   10    22    1 3.25
## 443   10    22    2 3.34
## 444   10    22    3 3.34
## 445   10    22    4 3.38
## 446   10    22    5 3.47
## 447   10    23    1 3.00
## 448   10    23    2 3.06
## 449   10    23    3 3.08
## 450   10    23    4 3.14
## 451   10    23    5 3.18</code></pre>
</div>
<div id="part-b.-2" class="section level2">
<h2>Part b.</h2>
<p>Reshape or transpose this data from the long form to the wide form. Call this data <code>AppleWide</code>. This table should have one column for <code>Tree</code>, one column for <code>Apple</code> and six columns, <code>diam.1</code> - <code>diam.6</code>. The values in the time columns come from <code>diam</code> in <code>AppleData</code>.</p>
<pre class="r"><code>AppleData1&lt;- as.data.frame(AppleData)

AppleWide&lt;- reshape(AppleData1, direction = &quot;wide&quot;, idvar = c(&quot;apple&quot;,&quot;tree&quot;), timevar = &quot;time&quot;)
AppleWide</code></pre>
<pre><code>##     tree apple diam.1 diam.2 diam.3 diam.4 diam.5 diam.6
## 111    3     1   2.91   3.00   3.02   3.03     NA     NA
## 115    3    10   2.81   2.89   2.87   2.93   2.93   2.94
## 121    3    16   2.95   3.00   3.03   3.03   3.06   3.08
## 127    3    17   2.79   2.83   2.86   2.87   2.87   2.93
## 133    3    18   2.98   3.03   3.06   3.09   3.09   3.09
## 139    3    20   2.76   2.82   2.83   2.85   2.86   2.88
## 145    3    22   2.76   2.82   2.85   2.87   2.90   2.90
## 151    3    23   2.76   2.78   2.77   2.79   2.79   2.79
## 157    3    24   2.80   2.85   2.87   2.87   2.89   2.92
## 317    7     2   2.79   2.89   2.89   2.91   2.91   2.95
## 323    7     4   2.80   2.81   2.85   2.91   2.92   2.96
## 329    7     9   3.06   3.15   3.15   3.23   3.27   3.31
## 335    7    25   2.84   2.86   2.88   2.93   2.93   2.96
## 399   10     2   2.92   2.95   3.00   3.01   3.07     NA
## 404   10     5   2.87   2.89   2.94   2.95   3.01   3.02
## 410   10     8   2.76   2.81   2.86   2.90     NA     NA
## 414   10     9   2.91   3.01   3.07   3.09   3.11     NA
## 419   10    10   2.88   2.88   2.92   2.97   2.97   2.99
## 425   10    17   3.00   3.05   3.05   3.06   3.11     NA
## 430   10    18   2.85   2.87   2.91   2.95   2.98   3.00
## 436   10    21   2.76   2.83   2.84   2.87   2.88   2.91
## 442   10    22   3.25   3.34   3.34   3.38   3.47     NA
## 447   10    23   3.00   3.06   3.08   3.14   3.18     NA</code></pre>
</div>
<div id="part-c.-3" class="section level2">
<h2>Part c.</h2>
<p>To confirm that you’ve reshaped correctly, print column means for the wide data set and use an aggregate or apply function to compute <code>time</code> means for the long format.</p>
<pre class="r"><code>meanWide= colMeans(AppleWide, na.rm = T)
meanWide</code></pre>
<pre><code>##      tree     apple    diam.1    diam.2    diam.3    diam.4    diam.5    diam.6 
##  6.739130 14.173913  2.878696  2.931304  2.953913  2.983913  3.009524  2.976875</code></pre>
<pre class="r"><code>meanLong = tapply(AppleData1$diam, AppleData1$time, mean, na.rm=T)
meanLong</code></pre>
<pre><code>##        1        2        3        4        5        6 
## 2.878696 2.931304 2.953913 2.983913 3.009524 2.976875</code></pre>
</div>
<div id="part-d." class="section level2">
<h2>Part d.</h2>
<p>I choose this example for a test case because it shows a case where the best repeated measures model is an auto-regressive model - each measure is correlated with the preceding measure. We can estimate the degree of using the following R code. You don’t need to evaluate this code for this exercise; it’s provided as a motivation for reshaping the data.</p>
<pre class="r"><code>mult.lm &lt;- lm(cbind(diam.1, diam.2, diam.3, diam.4, diam.5, diam.6) ~ tree, data=AppleWide)
mult.manova &lt;- manova(mult.lm)
print(cov2cor(estVar(mult.lm)))</code></pre>
</div>
</div>
<div id="exercise-6" class="section level1">
<h1>Exercise 6</h1>
<p>This is an exercise in computing the Wilcoxon Signed Rank test. We will be using an example from NIST (<code>NATR332.DAT</code>). See <a href="https://www.itl.nist.gov/div898/software/dataplot/refman1/auxillar/signrank.htm" class="uri">https://www.itl.nist.gov/div898/software/dataplot/refman1/auxillar/signrank.htm</a> .</p>
<p>The data are provided:</p>
<pre class="r"><code>NATR332.DAT &lt;- data.frame(
  Y1 = c(146,141,135,142,140,143,138,137,142,136),
  Y2 = c(141,143,139,139,140,141,138,140,142,138)
)</code></pre>
<div id="part-a.-4" class="section level2">
<h2>Part a.</h2>
<p>Add a column <code>Difference</code> that is the difference between <code>Y1</code> and <code>Y2</code>. For further analysis, exclude any rows where the difference is 0.</p>
<p>Next add add the column <code>Rank</code>, which will be the rank of the absolute value of <code>Difference</code>.</p>
<pre class="r"><code>#adding column Difference in the data frame 
NATR332.DAT$Difference &lt;- NATR332.DAT$Y1-NATR332.DAT$Y2
NATR332.DAT&lt;- NATR332.DAT[NATR332.DAT$Difference != 0,]
NATR332.DAT</code></pre>
<pre><code>##     Y1  Y2 Difference
## 1  146 141          5
## 2  141 143         -2
## 3  135 139         -4
## 4  142 139          3
## 6  143 141          2
## 8  137 140         -3
## 10 136 138         -2</code></pre>
<pre class="r"><code>#Next, we rank and add a column in the data frame 
NATR332.DAT$Rank &lt;- rank(abs(NATR332.DAT$Difference))
NATR332.DAT</code></pre>
<pre><code>##     Y1  Y2 Difference Rank
## 1  146 141          5  7.0
## 2  141 143         -2  2.0
## 3  135 139         -4  6.0
## 4  142 139          3  4.5
## 6  143 141          2  2.0
## 8  137 140         -3  4.5
## 10 136 138         -2  2.0</code></pre>
</div>
<div id="part-c.-4" class="section level2">
<h2>Part c.</h2>
<p>Add the column <code>SignedRank</code> by applying the sign (+ or -) of <code>Difference</code>, to to <code>Rank</code> (that is, if <code>Difference</code> is &lt; 0, then <code>SignedRank</code> is <code>-Rank</code>, otherwise <code>SignedRank</code> is <code>Rank</code>).</p>
<pre class="r"><code>SignedRank &lt;- ifelse(NATR332.DAT$Difference &lt; 0, - NATR332.DAT$Rank, + NATR332.DAT$Rank)
 
NATR332.DAT$SignedRank&lt;- round(SignedRank, 0)
NATR332.DAT</code></pre>
<pre><code>##     Y1  Y2 Difference Rank SignedRank
## 1  146 141          5  7.0          7
## 2  141 143         -2  2.0         -2
## 3  135 139         -4  6.0         -6
## 4  142 139          3  4.5          4
## 6  143 141          2  2.0          2
## 8  137 140         -3  4.5         -4
## 10 136 138         -2  2.0         -2</code></pre>
</div>
<div id="part-d.-1" class="section level2">
<h2>Part d.</h2>
<p>Compute the sum of the positive ranks, and the absolute value of the sum of the negative ranks. Let <span class="math inline">\(W\)</span> be the minimum of these two sums. Print <span class="math inline">\(W\)</span>.</p>
<pre class="r"><code>positive.sum = sum(NATR332.DAT$SignedRank[NATR332.DAT$SignedRank &gt; 0])
positive.sum</code></pre>
<pre><code>## [1] 13</code></pre>
<pre class="r"><code>abs.negative.sum = abs(sum(NATR332.DAT$SignedRank[NATR332.DAT$SignedRank &lt; 0]))
abs.negative.sum</code></pre>
<pre><code>## [1] 14</code></pre>
<pre class="r"><code># Let $W$ be the minimum of these two sums.
W = min(abs.negative.sum, positive.sum)
W</code></pre>
<pre><code>## [1] 13</code></pre>
<p>The expected mean of <span class="math inline">\(W\)</span> is calculated by</p>
<p><span class="math display">\[\mu_W = N_r*(N_r+1)/4\]</span>
with a standard deviation of</p>
<p><span class="math display">\[
\sigma_W = \sqrt{\frac{N_r(N_r+1)(2N_r+1)}{6}}
\]</span></p>
<p>where <span class="math inline">\(N_r\)</span> is the number of ranked values (excluding differences of 0). Calculate a <span class="math inline">\(z\)</span> score by</p>
<p><span class="math display">\[z_W = (W - \mu_W)/\sigma_W\]</span>
Print both <span class="math inline">\(\mu_W\)</span> and <span class="math inline">\(z_W\)</span>.</p>
<pre class="r"><code>mu_W = (7*(7+1))/4
mu_W</code></pre>
<pre><code>## [1] 14</code></pre>
<pre class="r"><code>sigma_W = sqrt((7*(7+1)*(2*7+1))/6)
sigma_W</code></pre>
<pre><code>## [1] 11.83216</code></pre>
<pre class="r"><code>z_W = (W - mu_W)/sigma_W
z_W</code></pre>
<pre><code>## [1] -0.08451543</code></pre>
<pre class="r"><code>p&lt;- pnorm(z_W, lower.tail = TRUE)
p</code></pre>
<pre><code>## [1] 0.4663233</code></pre>
<p>The p-value matches with the value calculated using Wilcoxon test below.</p>
<p>The NIST page gives a p-values based on the continuity correction. We are not computing this correction. You can compute the <span class="math inline">\(P(z&gt;z_W)\)</span> of your <span class="math inline">\(z_W\)</span> (using the normal distribution) and compare it to</p>
<pre class="r"><code>wilcox.test(NATR332.DAT$Y1, NATR332.DAT$Y2, paired = TRUE, correct = FALSE, alternative = &quot;less&quot;)</code></pre>
<pre><code>## Warning in wilcox.test.default(NATR332.DAT$Y1, NATR332.DAT$Y2, paired = TRUE, :
## cannot compute exact p-value with ties</code></pre>
<pre><code>## 
##  Wilcoxon signed rank test
## 
## data:  NATR332.DAT$Y1 and NATR332.DAT$Y2
## V = 13.5, p-value = 0.466
## alternative hypothesis: true location shift is less than 0</code></pre>
<p>while the corrected p-values are given by</p>
<pre class="r"><code>wilcox.test(NATR332.DAT$Y1, NATR332.DAT$Y2, paired = TRUE, correct = TRUE, alternative = &quot;less&quot;)</code></pre>
<pre><code>## Warning in wilcox.test.default(NATR332.DAT$Y1, NATR332.DAT$Y2, paired = TRUE, :
## cannot compute exact p-value with ties</code></pre>
<pre><code>## 
##  Wilcoxon signed rank test with continuity correction
## 
## data:  NATR332.DAT$Y1 and NATR332.DAT$Y2
## V = 13.5, p-value = 0.5
## alternative hypothesis: true location shift is less than 0</code></pre>
<pre class="r"><code>wilcox.test(NATR332.DAT$Y1, NATR332.DAT$Y2, paired = TRUE, correct = TRUE, alternative = &quot;greater&quot;)</code></pre>
<pre><code>## Warning in wilcox.test.default(NATR332.DAT$Y1, NATR332.DAT$Y2, paired = TRUE, :
## cannot compute exact p-value with ties</code></pre>
<pre><code>## 
##  Wilcoxon signed rank test with continuity correction
## 
## data:  NATR332.DAT$Y1 and NATR332.DAT$Y2
## V = 13.5, p-value = 0.5677
## alternative hypothesis: true location shift is greater than 0</code></pre>
</div>
</div>

    </div>

    


    

<div class="article-tags">
  
  <a class="badge badge-light" href="/achalneupane.github.io/tags/r/">R</a>
  
  <a class="badge badge-light" href="/achalneupane.github.io/tags/statistics/">Statistics</a>
  
  <a class="badge badge-light" href="/achalneupane.github.io/tags/statistical_programming/">Statistical_programming</a>
  
</div>



    
      








  
  
    
  
  





  
  
  
  
  <div class="media author-card" itemscope itemtype="http://schema.org/Person">
    

    <div class="media-body">
      <h5 class="card-title" itemprop="name"><a href="/achalneupane.github.io/authors/achal-neupane/"></a></h5>
      
      
      <ul class="network-icon" aria-hidden="true">
        
      </ul>
    </div>
  </div>



      
      
      <div class="article-widget">
        <div class="hr-light"></div>
        <h3>Related</h3>
        <ul>
          
          <li><a href="/achalneupane.github.io/post/data_tables/">Data tables</a></li>
          
          <li><a href="/achalneupane.github.io/post/control_structures/">Control Structures</a></li>
          
          <li><a href="/achalneupane.github.io/post/functions/">Functions</a></li>
          
          <li><a href="/achalneupane.github.io/post/calculations/">Calculations</a></li>
          
          <li><a href="/achalneupane.github.io/post/r_arrays/">Arrays</a></li>
          
        </ul>
      </div>
      
    

    

    


  </div>
</article>

      

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/r.min.js"></script>
        
      

      
      
    

    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/achalneupane.github.io/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/achalneupane.github.io/js/academic.min.16bbb3750feb7244c9bc409a5a4fe678.js"></script>

    






  
  <div class="container">
    <footer class="site-footer">
  
  <p class="powered-by">
    
      <a href="/achalneupane.github.io/privacy/">Privacy Policy</a>
    
    
       &middot; 
      <a href="/achalneupane.github.io/terms/">Terms</a>
        
  </p>
  

  <p class="powered-by">
    © 2019 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
